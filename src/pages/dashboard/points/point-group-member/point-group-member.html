<ion-header>
    <ion-navbar>
      <ion-title>
        <img img-title src="../../../../assets/imgs/squalify.png" alt="squalify">
      </ion-title>
    </ion-navbar>
  </ion-header>
  
  <ion-content [ngSwitch]="pageStatus">
    <loading type="list" *ngSwitchCase="'loading'"></loading>
    <fetch-error message="Failed to get members point" [retry]="fetch.bind(this)" *ngSwitchCase="'error'"></fetch-error>
    <ng-container *ngSwitchDefault>
      <ion-row padding-horizontal justify-content-between>
        <ion-col>
          <ion-item no-lines no-padding>
            <div [ngStyle]="viewProfileImage()" id="profile-image" item-start></div>
            <h5>{{name}}</h5>
            <p>{{designation}}</p>
          </ion-item>
        </ion-col>
        <ion-chip (tap)="viewDownlines()" color="primary" *ngIf="downline && downline > 0">
          <ion-label color="white">View downline{{downline > 1 ? 's' : ''}}</ion-label>
        </ion-chip>
      </ion-row>
      <ng-container *ngIf="points.length > 0; then pointsBlock; else emptyBlock"></ng-container>
      <ng-template #pointsBlock>
        <ion-list padding>
          <ion-item (tap)="viewPointDetail(point)" no-padding *ngFor="let point of points">
            <h5>{{point.date | date:'d MMM yyyy'}}</h5>
            <p item-end ion-text color="primary">{{point.point}}</p>
          </ion-item>
        </ion-list>
      </ng-template>
      <ng-template #emptyBlock>
        <empty-content title="Points empty"></empty-content>
      </ng-template>
    </ng-container>
  </ion-content>